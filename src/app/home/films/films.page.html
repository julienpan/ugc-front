<ion-header>
  <ion-toolbar color="primary">
    <ion-text style="font-size: 20px; font-weight: bold; padding-left: 20px">Les films</ion-text>
    <!-- <ion-buttons slot="start">
      <ion-back-button defaultHref="home/accueil"></ion-back-button>
    </ion-buttons> -->
    <ion-buttons slot="end" *ngIf="isAdmin">
      <ion-button fill="outline" (click)="openModalAddMovie()" shape="round">Ajouter</ion-button>
      <ion-button *ngIf="!deleteMode" fill="outline" shape="round" color="danger" (click)="deleteMode = !deleteMode">Supprimer
      </ion-button>
      <ion-button *ngIf="deleteMode" fill="outline" shape="round" color="danger" (click)="deleteMode = !deleteMode">Annuler
      </ion-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div id="container">
    <div id="card">
      <ion-card>
        <ion-card-header>
          <ion-text>Les séances dans mon cinéma</ion-text>
        </ion-card-header>
        <ion-card-content>
          <ion-button (click)="openModalCinema()">
            Choisir mon cinéma
            <ion-icon name="chevron-down"></ion-icon>
          </ion-button>
          <ion-button (click)="getCinemaLocation()">
            <ion-icon name="location"></ion-icon>
            A proximité
          </ion-button>
        </ion-card-content>
      </ion-card>
    </div>

    <div id="btn">
      <ion-button fill="clear">
        <ion-icon name="search"></ion-icon>
        Rechercher un film
      </ion-button>

      <ion-button fill="clear">
        <ion-icon name="options"></ion-icon>
        Filtrer / Trier
      </ion-button>
    </div>

    <div id="section">
      <ion-item lines="none" color="primary">
        <ion-text>Recommandations</ion-text>
        <ion-button slot="end" fill="clear" color="light">Tout voir</ion-button>
      </ion-item>
    </div>

    <!-- <div id="newMovie">
      <ion-slides [options]="slideOpts" pager="true" #mySlides style="    margin-left: 50px;
    margin-right: 50px;">
        <ion-slide *ngFor="let movie of recommendedMovieList; let index = index">
          <ion-icon class="nav-img-forward" size="large" color="primary" name="arrow-forward"
            *ngIf="recommendedMovieList.length > index + 1" (click)="slide(index + 1)">
          </ion-icon>
          <ion-icon class="nav-img-back" size="large" color="primary" name="arrow-back"
            *ngIf="index != 0 && recommendedMovieList.length > index" (click)="slide(index - 1)">
          </ion-icon>
        
          <div id="movie">
            <div id="image">
              <img id="movieImage" [src]="movie.image" alt="">
              <div class="overlay">
                <ion-button fill="clear" style="font-size: 10px;" color="light" (click)="watchTrailer(movie.trailer)">
                  Voir la bande-annonce
                  <ion-icon name="play" color="light"></ion-icon>
                </ion-button>
              </div>
              <img style="width: 100%; height: 100%" src="./assets/icon/ugcMovie.jpeg">
            </div>
            <div id="title" (click)="navigateToMovieDetail(movie)">
              <ion-text>{{movie.name}}</ion-text>
              <ion-icon name="close-circle" size="large" color="danger" *ngIf="deleteMode" (click)="deleteMovie(movie)">
              </ion-icon>
            </div>
          </div>
        </ion-slide>
      </ion-slides>    

      <ion-icon *ngIf="recommendedMovieList.length > 3" style="position: relative;
        z-index: 10;
        border-radius: 20px;
        box-shadow: 0px 0px 2px grey;
        background: #08288b;
        bottom: 240px;
        left: 95%;" name="arrow-forward" size="large" color="light" (click)="slides.slideNext()"></ion-icon>
    
          <ion-icon *ngIf="recommendedMovieList.length > 3" style="position: relative;
          z-index: 10;
          border-radius: 20px;
          box-shadow: 0px 0px 2px grey;
          background: #08288b;
          bottom: 240px;
          left: -25px;" name="arrow-back" size="large" color="light" (click)="slides.slidePrev()"></ion-icon>

    </div> -->

    <div id="newMovie">
      <ion-slides [options]="slideOpts" pager="true" #mySlides style="margin-left: 50px;
    margin-right: 50px;">
        <ion-slide *ngFor="let movie of recommendedMovieList; let index = index">
          <div id="movie">
            <div id="image">
              <img id="movieImage" [src]="movie.image" alt="">
              <div class="overlay">
                <ion-button fill="clear" style="font-size: 10px;" color="light" (click)="watchTrailer(movie.trailer)">
                  Voir la bande-annonce
                  <ion-icon name="play" color="light"></ion-icon>
                </ion-button>
              </div>
              <img style="width: 100%; height: 100%" src="./assets/icon/ugcMovie.jpeg">
            </div>
            <div id="title" (click)="navigateToMovieDetail(movie)">
              <ion-text>{{movie.name}}</ion-text>
              <ion-icon name="close-circle" size="large" color="danger" *ngIf="deleteMode" (click)="deleteMovie(movie)">
              </ion-icon>
            </div>
          </div>
        </ion-slide>
      </ion-slides>

      <ion-icon *ngIf="recommendedMovieList.length > 3" style="position: relative;
    z-index: 10;
    border-radius: 20px;
    box-shadow: 0px 0px 2px grey;
    background: #08288b;
    bottom: 240px;
    left: 95%;" name="arrow-forward" size="large" color="light" (click)="slides.slideNext()"></ion-icon>

      <ion-icon *ngIf="recommendedMovieList.length > 3" style="position: relative;
      z-index: 10;
      border-radius: 20px;
      box-shadow: 0px 0px 2px grey;
      background: #08288b;
      bottom: 240px;
      left: -25px;" name="arrow-back" size="large" color="light" (click)="slides.slidePrev()"></ion-icon>
    </div>



    <div id="section">
      <ion-item lines="none" color="primary">
        <ion-text>Nouveautés</ion-text>
        <ion-button slot="end" fill="clear" color="light">Tout voir</ion-button>
      </ion-item>
    </div>

    <div id="newMovie">

      <ion-slides [options]="slideOpts" pager="true" #mySlides2 style="    margin-left: 50px;
    margin-right: 50px;">
        <ion-slide *ngFor="let movie of newMovieList; let index = index">
          <div id="movie">
            <div id="image">
              <img id="movieImage" [src]="movie.image" alt="">
              <div class="overlay">
                <ion-button fill="clear" style="font-size: 10px;" color="light" (click)="watchTrailer(movie.trailer)">
                  Voir la bande-annonce
                  <ion-icon name="play" color="light"></ion-icon>
                </ion-button>
              </div>
              <img style="width: 100%; height: 100%" src="./assets/icon/ugcMovie.jpeg">
            </div>
            <div id="title" (click)="navigateToMovieDetail(movie)">
              <ion-text>{{movie.name}}</ion-text>
              <ion-icon name="close-circle" size="large" color="danger" *ngIf="deleteMode" (click)="deleteMovie(movie)">
              </ion-icon>
            </div>
          </div>
        </ion-slide>
      </ion-slides>

      <ion-icon *ngIf="newMovieList.length > 3" style="position: relative;
    z-index: 10;
    border-radius: 20px;
    box-shadow: 0px 0px 2px grey;
    background: #08288b;
    bottom: 240px;
    left: 95%;" name="arrow-forward" size="large" color="light" (click)="slides2.slideNext()"></ion-icon>

      <ion-icon *ngIf="newMovieList.length > 3" style="position: relative;
      z-index: 10;
      border-radius: 20px;
      box-shadow: 0px 0px 2px grey;
      background: #08288b;
      bottom: 240px;
      left: -25px;" name="arrow-back" size="large" color="light" (click)="slides2.slidePrev()"></ion-icon>
    </div>


    <div id="section">
      <ion-item lines="none" color="primary">
        <ion-text>A l'affiche</ion-text>
        <ion-button slot="end" fill="clear" color="light">Tout voir</ion-button>
      </ion-item>
    </div>

    <div id="newMovie">
      <ion-slides [options]="slideOpts" pager="true" #mySlides3 style="    margin-left: 50px;
    margin-right: 50px;">
        <ion-slide *ngFor="let movie of frontMovieList; let index = index">
          <div id="movie">
            <div id="image">
              <img id="movieImage" [src]="movie.image" alt="">
              <div class="overlay">
                <ion-button fill="clear" style="font-size: 10px;" color="light" (click)="watchTrailer(movie.trailer)">
                  Voir la bande-annonce
                  <ion-icon name="play" color="light"></ion-icon>
                </ion-button>
              </div>
              <img style="width: 100%; height: 100%" src="./assets/icon/ugcMovie.jpeg">
            </div>
            <div id="title" (click)="navigateToMovieDetail(movie)">
              <ion-text>{{movie.name}}</ion-text>
              <ion-icon name="close-circle" size="large" color="danger" *ngIf="deleteMode" (click)="deleteMovie(movie)">
              </ion-icon>
            </div>
          </div>
        </ion-slide>
      </ion-slides>
      <ion-icon *ngIf="frontMovieList.length > 3" style="position: relative;
        z-index: 10;
        border-radius: 20px;
        box-shadow: 0px 0px 2px grey;
        background: #08288b;
        bottom: 240px;
        left: 95%;" name="arrow-forward" size="large" color="light" (click)="slides3.slideNext()"></ion-icon>
    
          <ion-icon *ngIf="frontMovieList.length > 3" style="position: relative;
          z-index: 10;
          border-radius: 20px;
          box-shadow: 0px 0px 2px grey;
          background: #08288b;
          bottom: 240px;
          left: -25px;" name="arrow-back" size="large" color="light" (click)="slides3.slidePrev()"></ion-icon>
    </div>

    <div id="section">
      <ion-item lines="none" color="primary">
        <ion-text>Avant-premières</ion-text>
        <ion-button slot="end" fill="clear" color="light">Tout voir</ion-button>
      </ion-item>
    </div>

    <div id="newMovie">
      <ion-slides [options]="slideOpts" pager="true" #mySlides4 style="    margin-left: 50px;
    margin-right: 50px;">
        <ion-slide *ngFor="let movie of previewMovieList; let index = index">
          <div id="movie">
            <div id="image">
              <img id="movieImage" [src]="movie.image" alt="">
              <div class="overlay">
                <ion-button fill="clear" style="font-size: 10px;" color="light" (click)="watchTrailer(movie.trailer)">
                  Voir la bande-annonce
                  <ion-icon name="play" color="light"></ion-icon>
                </ion-button>
              </div>
              <img style="width: 100%; height: 100%" src="./assets/icon/ugcMovie.jpeg">
            </div>
            <div id="title" (click)="navigateToMovieDetail(movie)">
              <ion-text>{{movie.name}}</ion-text>
              <ion-icon name="close-circle" size="large" color="danger" *ngIf="deleteMode" (click)="deleteMovie(movie)">
              </ion-icon>
            </div>
          </div>
        </ion-slide>
      </ion-slides>

      <ion-icon *ngIf="previewMovieList.length > 3" style="position: relative;
        z-index: 10;
        border-radius: 20px;
        box-shadow: 0px 0px 2px grey;
        background: #08288b;
        bottom: 240px;
        left: 95%;" name="arrow-forward" size="large" color="light" (click)="slides4.slideNext()"></ion-icon>
    
          <ion-icon *ngIf="previewMovieList.length > 3" style="position: relative;
          z-index: 10;
          border-radius: 20px;
          box-shadow: 0px 0px 2px grey;
          background: #08288b;
          bottom: 240px;
          left: -25px;" name="arrow-back" size="large" color="light" (click)="slides4.slidePrev()"></ion-icon>

    </div>

    <div id="section">
      <ion-item lines="none" color="primary">
        <ion-text>Liste des films</ion-text>
        <ion-button slot="end" fill="clear" color="light">Tout voir</ion-button>
      </ion-item>
    </div>

    <div id="newMovie">
      <ion-slides [options]="slideOpts" pager="true" #mySlides5 style="    margin-left: 50px;
    margin-right: 50px;">
        <ion-slide *ngFor="let movie of basicMovieList; let index = index">
          <div id="movie">
            <div id="image">
              <img id="movieImage" [src]="movie.image" alt="">
              <div class="overlay">
                <ion-button fill="clear" style="font-size: 10px;" color="light" (click)="watchTrailer(movie.trailer)">
                  Voir la bande-annonce
                  <ion-icon name="play" color="light"></ion-icon>
                </ion-button>
              </div>
              <img style="width: 100%; height: 100%" src="./assets/icon/ugcMovie.jpeg">
            </div>
            <div id="title" (click)="navigateToMovieDetail(movie)">
              <ion-text>{{movie.name}}</ion-text>
              <ion-icon name="close-circle" size="large" color="danger" *ngIf="deleteMode" (click)="deleteMovie(movie)">
              </ion-icon>
            </div>
          </div>
        </ion-slide>
      </ion-slides>

      <ion-icon *ngIf="basicMovieList.length > 3" style="position: relative;
        z-index: 10;
        border-radius: 20px;
        box-shadow: 0px 0px 2px grey;
        background: #08288b;
        bottom: 240px;
        left: 95%;" name="arrow-forward" size="large" color="light" (click)="slides5.slideNext()"></ion-icon>
    
          <ion-icon *ngIf="basicMovieList.length > 3" style="position: relative;
          z-index: 10;
          border-radius: 20px;
          box-shadow: 0px 0px 2px grey;
          background: #08288b;
          bottom: 240px;
          left: -25px;" name="arrow-back" size="large" color="light" (click)="slides5.slidePrev()"></ion-icon>

    </div>






  </div>
</ion-content>